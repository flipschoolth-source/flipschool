<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - FlipSchool</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="img/favicon.png">

    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Sarabun:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css"> <style>
        /* --- Styles ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤ Login ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô --- */
        body {
            background-color: #FFF8E1; /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏≠‡πà‡∏≠‡∏ô‡πÜ ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏™‡∏î‡πÉ‡∏™‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏£‡∏π */
        }

        .login-card {
            background: white;
            border-radius: 30px; /* ‡∏°‡∏∏‡∏°‡∏°‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ */
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(255, 140, 0, 0.15); /* ‡πÄ‡∏á‡∏≤‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏à‡∏≤‡∏á‡πÜ */
            position: relative;
            margin-top: 20px;
        }

        .mascot-icon {
            font-size: 80px;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }

        .input-group {
            position: relative;
            margin: 30px 0;
        }

        .class-code-input {
            width: 100%;
            height: 70px;
            font-size: 32px;
            font-family: 'Kanit', sans-serif;
            text-align: center;
            letter-spacing: 8px;
            border: 3px solid #eee;
            border-radius: 20px;
            background-color: #f9f9f9;
            color: var(--primary);
            text-transform: uppercase; /* ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏ç‡πà */
            transition: all 0.3s;
        }

        .class-code-input:focus {
            outline: none;
            border-color: var(--accent);
            background-color: #fff;
            box-shadow: 0 0 0 5px rgba(255, 140, 0, 0.2);
        }

        .class-code-input::placeholder {
            color: #ddd;
            letter-spacing: 2px;
            font-size: 24px;
        }

        .hint-text {
            font-size: 14px;
            color: #888;
            margin-top: 10px;
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πÅ‡∏Å‡∏ô QR */
        .btn-qr {
            background-color: white;
            color: #555;
            border: 2px dashed #ccc;
            padding: 12px;
            border-radius: 15px;
            width: 100%;
            margin-top: 15px;
            font-weight: 500;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .btn-qr:active { background-color: #f0f0f0; }

        /* Animation */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö */
        .back-nav {
            position: absolute; top: 20px; left: 20px;
            background: white; width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            color: var(--primary); text-decoration: none; font-size: 18px;
            z-index: 10;
        }
    </style>
</head>
<body>

    <a href="login.html" class="back-nav">
        <i class="fas fa-arrow-left"></i>
    </a>

    <div class="app-container">
        
        <div class="login-card">
            <div class="mascot-icon">üöÄ</div>
            
            <h1 style="margin-bottom: 5px;">‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
            <p style="color: #666;">‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢</p>

            <div class="input-group">
                <input type="text" id="classCode" class="class-code-input" placeholder="A1B2" maxlength="6" autocomplete="off">
                <div class="hint-text">‡∏£‡∏´‡∏±‡∏™‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© 4-6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</div>
            </div>

            <button class="btn-main" onclick="joinClass()">
                ‡πÑ‡∏õ‡∏•‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢! <i class="fas fa-arrow-right"></i>
            </button>

            <button class="btn-qr" onclick="alert('‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ‡∏à‡πâ‡∏≤!')">
                <i class="fas fa-qrcode"></i> ‡∏™‡πÅ‡∏Å‡∏ô QR Code
            </button>
        </div>

    </div>

    <script>
        const input = document.getElementById('classCode');

        // 1. ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏ç‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏ì‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå
        input.addEventListener('input', function() {
            this.value = this.value.toUpperCase();
        });

        // 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™
        function joinClass() {
            const code = input.value.trim();

            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
            if (code.length < 4) {
                // ‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (Shake Effect ‡πÅ‡∏ö‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡πÜ)
                input.style.borderColor = 'red';
                input.classList.add('shake');
                setTimeout(() => {
                    input.style.borderColor = '#eee';
                    input.classList.remove('shake');
                }, 500);
                
                alert('‡∏´‡∏ô‡∏π‡πÜ ‡∏•‡∏∑‡∏°‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤‡∏à‡πä‡∏∞? üòÖ');
                return;
            }

            // --- ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏à‡∏∞‡∏ï‡πà‡∏≠ Supabase ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ) ---
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î
            const btn = document.querySelector('.btn-main');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á...';
            btn.disabled = true;

            setTimeout(() => {
                // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á -> ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard
                // (‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ code ‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô DB ‡πÑ‡∏´‡∏°)
                alert('‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô! üéâ');
                
                // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Session ‡∏à‡∏≥‡∏•‡∏≠‡∏á
                localStorage.setItem('student_class_code', code);
                
                // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (Step 3.5: Student Dashboard)
                window.location.href = 'student-dashboard.html'; 
            }, 1500);
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏° CSS Shake ‡∏ï‡∏≠‡∏ô Error
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes shake {
                0% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                50% { transform: translateX(5px); }
                75% { transform: translateX(-5px); }
                100% { transform: translateX(0); }
            }
            .shake { animation: shake 0.3s; border-color: #ff4444 !important; }
        `;
        document.head.appendChild(style);
    </script>

</body>
</html>

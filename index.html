<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlipSchool.in.th - เรียนรู้ที่บ้าน ทำกิจกรรมที่โรงเรียน</title>
  
  <meta name="theme-color" content="#00AEEF">
  <link rel="apple-touch-icon" href="img/favicon.png">
  <link rel="icon" type="image/png" href="img/favicon.png">
  <link rel="manifest" href="/manifest.json">

  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary-color: #00AEEF;
      --primary-dark: #0056B3;
      --accent-color: #FFC107;
      --text-color: #333;
      --bg-light: #F4F7F6;
      --white: #ffffff;
      --gradient: linear-gradient(135deg, #00AEEF 0%, #0056B3 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Prompt', sans-serif;
      background-color: var(--bg-light);
      color: var(--text-color);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* --- Navigation --- */
    nav {
      background: var(--white);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 1rem 5%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }

    .logo-container img {
      height: 50px;
      width: auto;
      /* ปรับขนาด favicon ถ้าจำเป็น */
      /* max-width: 50px; */
    }

    .logo-text {
      font-weight: 700;
      color: var(--primary-dark);
      font-size: 1.2rem;
    }

    .logo-text span {
      color: var(--primary-color);
    }

    .nav-btn {
      padding: 8px 20px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      cursor: pointer;
      border: 2px solid var(--primary-color);
      display: inline-block; /* เพิ่มเพื่อให้ปุ่มแสดงผลถูกต้อง */
    }

    .btn-outline {
      color: var(--primary-color);
      background: transparent;
    }

    .btn-filled {
      background: var(--gradient);
      color: var(--white);
      border: none;
      box-shadow: 0 4px 15px rgba(0, 174, 239, 0.3);
    }

    .nav-btn:hover {
      transform: translateY(-2px);
    }

    /* --- Page Sections --- */
    .page-section {
      display: none;
      min-height: 90vh;
      animation: fadeIn 0.5s ease-in-out;
    }

    .active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* --- 1. Welcome Page (Hero) UPDATED --- */
    .hero-section {
      /* ลบ background image เดิมออก */
      background-color: var(--white); 
      padding: 2rem 5%;
      min-height: 90vh;
      display: flex; /* ใช้ Flex เพื่อจัดกึ่งกลางแนวตั้ง */
      align-items: center;
    }

    .hero-container {
        display: flex;
        align-items: center; /* จัดให้อยู่ตรงกลางในแนวแกน Y */
        justify-content: space-between;
        gap: 4rem; /* ระยะห่างระหว่างรูปกับข้อความ */
        max-width: 1200px;
        margin: 0 auto;
    }

    .hero-image-block {
        flex: 1; /* กินพื้นที่ 50% */
    }

    .hero-image-block img {
        width: 100%;
        height: auto;
        border-radius: 20px;
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        object-fit: cover;
    }

    .hero-text-block {
        flex: 1; /* กินพื้นที่ 50% */
        text-align: left; /* จัดข้อความชิดซ้าย */
    }

    .hero-text-block h1 {
      font-size: 3.5rem;
      color: var(--primary-dark);
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .hero-text-block p {
      font-size: 1.2rem;
      color: #555;
      margin-bottom: 2rem;
      max-width: 600px;
    }

    .cta-btn {
      padding: 15px 40px;
      font-size: 1.2rem;
      border-radius: 50px;
      background: var(--gradient);
      color: var(--white);
      border: none;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 10px 20px rgba(0, 86, 179, 0.2);
      margin-right: 10px; margin-bottom: 10px; /* เว้นระยะปุ่ม */
    }

    .cta-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 15px 25px rgba(0, 86, 179, 0.3);
    }

    /* ปุ่ม Install PWA */
    #installPWA {
        display: none; /* ซ่อนไว้ก่อน จนกว่า browser จะพร้อม */
        background: var(--white);
        color: var(--primary-color);
        border: 2px solid var(--primary-color);
    }
    #installPWA:hover {
        background: var(--primary-color);
        color: var(--white);
    }

    /* --- 2. Login / Register Page --- */
    .auth-container {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 90vh;
    }

    .auth-card {
      background: var(--white);
      padding: 2.5rem;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 450px;
      text-align: center;
    }

    .auth-header img {
      width: 80px; /* ปรับขนาดตามความเหมาะสมของ favicon */
      height: auto;
      margin-bottom: 1rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
      text-align: left;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: #666;
      font-size: 0.9rem;
    }

    .form-control {
      width: 100%;
      padding: 12px;
      border: 2px solid #e1e1e1;
      border-radius: 10px;
      font-family: 'Prompt', sans-serif;
      transition: 0.3s;
    }

    .form-control:focus {
      border-color: var(--primary-color);
      outline: none;
    }

    .switch-form {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: #666;
    }

    .switch-form a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 600;
      cursor: pointer;
    }

    /* --- 3. Lesson Icons Hub --- */
    .dashboard-container {
      padding: 3rem 5%;
    }

    .section-title {
      text-align: center;
      margin-bottom: 3rem;
      color: var(--primary-dark);
    }

    .section-title h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .grid-lessons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .lesson-card {
      background: var(--white);
      border-radius: 20px;
      padding: 2rem 1rem;
      text-align: center;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      cursor: pointer;
      border: 1px solid transparent;
    }

    .lesson-card:hover {
      transform: translateY(-10px);
      border-color: var(--primary-color);
      box-shadow: 0 15px 30px rgba(0, 174, 239, 0.15);
    }

    .icon-wrapper {
      width: 70px;
      height: 70px;
      background: #E6F7FF;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1rem;
      color: var(--primary-color);
      font-size: 1.8rem;
      transition: 0.3s;
    }

    .lesson-card:hover .icon-wrapper {
      background: var(--primary-color);
      color: var(--white);
    }

    .lesson-title {
      font-weight: 600;
      color: #444;
      margin-bottom: 0.5rem;
    }

    .lesson-desc {
      font-size: 0.8rem;
      color: #888;
    }

    .password-wrapper {
      position: relative;
    }

    .password-wrapper input {
      padding-right: 40px;
    }

    .toggle-password-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      color: #999;
      z-index: 10;
    }

    .toggle-password-icon:hover {
      color: var(--primary-color);
    }

    /* --- Mobile Responsive Adjustments --- */
    @media (max-width: 992px) {
        .hero-text-block h1 { font-size: 3rem; }
        .hero-container { gap: 2rem; }
    }

    @media (max-width: 768px) {
      .nav-btn.btn-outline { display: none; }

      /* ปรับ Hero Section เป็นแนวตั้งบนมือถือ */
      .hero-container {
          flex-direction: column; /* เรียงซ้อนกัน */
          text-align: center; /* จัดข้อความกึ่งกลาง */
          padding-top: 2rem;
      }

      .hero-image-block {
          order: 1; /* เอารูปไว้บนสุด */
          margin-bottom: 2rem;
          max-width: 80%; /* ไม่ให้รูปใหญ่เกินไปบนมือถือ */
      }

      .hero-text-block {
          order: 2; /* เอาข้อความไว้ด้านล่าง */
          text-align: center; /* บังคับชิดกลางอีกที */
      }
      
      .hero-text-block h1 { font-size: 2.5rem; }
      .hero-text-block p { margin-left: auto; margin-right: auto; } /* จัด p กึ่งกลาง */

      .grid-lessons {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
    }

    @media (max-width: 480px) {
        .hero-text-block h1 { font-size: 2rem; }
        .cta-btn { width: 100%; margin-right: 0;} /* ปุ่มเต็มจอบนมือถือเล็ก */
    }
  </style>
</head>

<body>

  <nav>
    <div class="logo-container" onclick="showPage('welcome')">
      <img src="img/favicon.png" alt="FlipSchool Logo">
      <div class="logo-text">Flip<span>School</span></div>
    </div>
    <div>
      <a onclick="showPage('login')" class="nav-btn btn-outline" style="margin-right: 10px;">เข้าสู่ระบบ</a>
      <a onclick="showPage('dashboard')" class="nav-btn btn-filled">บทเรียน</a>
    </div>
  </nav>

  <section id="welcome" class="page-section active hero-section">
    <div class="hero-container">
        <div class="hero-image-block">
            <img src="img/cover01.jpg" alt="FlipSchool Cover">
        </div>
        
        <div class="hero-text-block">
            <h1>เรียนรู้ที่บ้าน<br>ทำกิจกรรมที่โรงเรียน</h1>
            <p>ก้าวข้ามขีดจำกัดห้องเรียนเดิมๆ ไปกับ FlipSchool.in.th แพลตฟอร์มห้องเรียนกลับด้านที่ทันสมัยที่สุด</p>
            <div style="margin-top: 2rem;">
                <button class="cta-btn" onclick="showPage('login')">เริ่มเรียนรู้เลย <i class="fas fa-arrow-right"></i></button>
                
                <button id="installPWA" class="cta-btn btn-outline">
                    <i class="fas fa-download"></i> ติดตั้งแอป
                </button>
            </div>
        </div>
    </div>
  </section>

  <section id="login" class="page-section">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-header">
          <img src="img/favicon.png" alt="Logo">
          <h2 id="form-title">เข้าสู่ระบบ</h2>
          <p style="color: #888; font-size: 0.9rem; margin-bottom: 20px;">ยินดีต้อนรับกลับสู่ห้องเรียน</p>
        </div>

        <form onsubmit="event.preventDefault(); showPage('dashboard');">
          <div class="form-group">
            <label>อีเมล หรือ ชื่อผู้ใช้งาน</label>
            <input type="text" class="form-control" placeholder="user@flipschool.in.th">
          </div>
          <div class="form-group">
            <label>รหัสผ่าน</label>
            <div class="password-wrapper">
              <input type="password" id="passwordInput" class="form-control" placeholder="••••••••">
              <i class="fas fa-eye toggle-password-icon" onclick="togglePassword(this)"></i>
            </div>
          </div>
          <button type="submit" class="cta-btn" style="width: 100%; font-size: 1rem;">เข้าสู่ระบบ</button>
        </form>

        <div class="switch-form">
          ยังไม่มีบัญชีใช่ไหม? <a href="#">สมัครสมาชิกใหม่</a>
        </div>
      </div>
    </div>
  </section>

  <section id="dashboard" class="page-section">
    <div class="dashboard-container">
      <div class="section-title">
        <h2>เลือกวิชาเรียน</h2>
        <p>เข้าถึงบทเรียนวิดีโอและแบบฝึกหัดได้ทุกที่ทุกเวลา</p>
      </div>

      <div class="grid-lessons">
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-calculator"></i></div><div class="lesson-title">คณิตศาสตร์</div><div class="lesson-desc">24 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-flask"></i></div><div class="lesson-title">วิทยาศาสตร์</div><div class="lesson-desc">18 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-language"></i></div><div class="lesson-title">ภาษาอังกฤษ</div><div class="lesson-desc">30 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-laptop-code"></i></div><div class="lesson-title">วิทยาการคำนวณ</div><div class="lesson-desc">12 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-book-open"></i></div><div class="lesson-title">ภาษาไทย</div><div class="lesson-desc">20 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-users"></i></div><div class="lesson-title">สังคมศึกษา</div><div class="lesson-desc">15 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-music"></i></div><div class="lesson-title">ศิลปะ/ดนตรี</div><div class="lesson-desc">10 บทเรียน</div></div>
        <div class="lesson-card"><div class="icon-wrapper"><i class="fas fa-shapes"></i></div><div class="lesson-title">อื่นๆ</div><div class="lesson-desc">เพิ่มเติม</div></div>
      </div>
    </div>
  </section>

  <script>
    // ฟังก์ชันสลับหน้า (เหมือนเดิม)
    function showPage(pageId) {
      const pages = document.querySelectorAll('.page-section');
      pages.forEach(page => {
        page.classList.remove('active');
        page.style.display = 'none';
      });
      const selectedPage = document.getElementById(pageId);
      if (selectedPage) {
        selectedPage.style.display = 'block';
        setTimeout(() => {
          selectedPage.classList.add('active');
        }, 10);
      }
      window.scrollTo(0, 0);
    }

    // ฟังก์ชันสลับการแสดงรหัสผ่าน (เหมือนเดิม)
    function togglePassword(icon) {
      const input = document.getElementById('passwordInput');
      if (input.type === "password") {
        input.type = "text";
        icon.classList.remove("fa-eye");
        icon.classList.add("fa-eye-slash");
      } else {
        input.type = "password";
        icon.classList.remove("fa-eye-slash");
        icon.classList.add("fa-eye");
      }
    }

    showPage('welcome');

    // --- NEW: PWA Install Button Logic ---
    let deferredPrompt;
    const installButton = document.getElementById('installPWA');

    // ทำงานเมื่อ Browser ตรวจพบว่าเว็บนี้ติดตั้งได้
    window.addEventListener('beforeinstallprompt', (e) => {
      // ป้องกันไม่ให้ Browser แสดงแถบติดตั้งอัตโนมัติ (เราจะใช้ปุ่มของเราเอง)
      e.preventDefault();
      // เก็บ event ไว้ใช้ทีหลัง
      deferredPrompt = e;
      // แสดงปุ่มติดตั้งที่เราเตรียมไว้
      installButton.style.display = 'inline-block';
      console.log('PWA install prompt ready');
    });

    // เมื่อกดปุ่มติดตั้ง
    installButton.addEventListener('click', (e) => {
      // ซ่อนปุ่ม
      installButton.style.display = 'none';
      // แสดง Prompt ของระบบ
      deferredPrompt.prompt();
      // รอผลลัพธ์ว่าผู้ใช้กดติดตั้งหรือไม่
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted the PWA install');
        } else {
          console.log('User dismissed the PWA install');
        }
        deferredPrompt = null;
      });
    });

    // (Optional) ตรวจสอบว่าติดตั้งแล้วหรือยัง
    window.addEventListener('appinstalled', (evt) => {
      console.log('PWA installed successfully');
    });
  </script>
</body>
</html>
